knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
COVID_on_TikTok <- read.csv("/Users/sanch/Desktop/BIS15W2025_group13/Sanchari/tiktok_data_open.csv")
summary(COVID_on_TikTok)
glimpse(COVID_on_TikTok)
names(COVID_on_TikTok)
COVID_on_TikTok %>%
summarize(across(everything(), ~ sum(is.na(.))))
sum(is.na(COVID_on_TikTok))
View(COVID_on_TikTok)
COVID_on_TikTok %>%
max(likes)
COVID_on_TikTok %>%
summarise(most_liked_video=max(likes))
COVID_on_TikTok %>%
summarise(most_liked_video=max(likes)) %>%
filter(likes=="8000000")
COVID_on_TikTok %>%
summarise(most_liked_video=max(likes))
COVID_on_TikTok %>%
filter(likes=="8000000")
x<- COVID_on_TikTok %>%
filter(likes=="8000000")
View(x)
COVID_on_TikTok %>%
filter(likes=="8000000")
#overall rating on DISCERN of moderate or high, video includes humor, presence of comment reflecting intention to change behavior
COVID_on_TikTok %>%
ggplot(aes(x=topic_humor, y=likes))+geom_point()
#+labs(title = "Per Capita GDP and Life Expectancy", x="GDP Per Capita", y="Life Expectancy")
COVID_on_TikTok %>%
ggplot(aes(x=topic_humor, y=likes))+geom_point()+scale_x_log10()
#+labs(title = "Per Capita GDP and Life Expectancy", x="GDP Per Capita", y="Life Expectancy")
COVID_on_TikTok %>%
ggplot(aes(x=topic_humor, y=likes))+geom_point()+scale_y_log10()
#+labs(title = "Per Capita GDP and Life Expectancy", x="GDP Per Capita", y="Life Expectancy")
COVID_on_TikTok %>%
mutate(across(-1, ~ ifelse(. == TRUE, 1, 0)))
# ggplot(aes(x=topic_humor, y=likes))+geom_point()+scale_y_log10()
#+labs(title = "Per Capita GDP and Life Expectancy", x="GDP Per Capita", y="Life Expectancy")
COVID_on_TikTok %>%
mutate(across(-3, ~ ifelse(. == TRUE, 1, 0)))
# ggplot(aes(x=topic_humor, y=likes))+geom_point()+scale_y_log10()
#+labs(title = "Per Capita GDP and Life Expectancy", x="GDP Per Capita", y="Life Expectancy")
COVID_on_TikTok %>%
mutate(across(-1, -2, -3, ~ ifelse(. == TRUE, 1, 0)))
COVID_on_TikTok %>%
filter(likes=="8000000")
#overall rating on DISCERN of moderate or high, video includes humor, presence of comment reflecting intention to change behavior
COVID_on_TikTok %>%
mutate(across(-1, -1, -1, ~ ifelse(. == TRUE, 1, 0)))
COVID_on_TikTok %>%
select(topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(like, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(likes, views) %>%
select(topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(likes, views) %>%
group_by(topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors), likes, views)
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors), )
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(likes, views, humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors), )
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(likes, views, humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
group_by(likes, views)
COVID_on_TikTok %>%
group_by(likes, views) %>%
summarise(sum())
COVID_on_TikTok %>%
group_by(likes, views) %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip))
COVID_on_TikTok %>%
group_by(likes) %>%
summarise(humor_videos =sum(topic_humor))
COVID_on_TikTok %>%
summarise(humor_videos =sum(topic_humor))
COVID_on_TikTok %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
select(likes) %>%
filter(topic_humor=="1")
COVID_on_TikTok %>%
select(likes)
COVID_on_TikTok %>%
select(likes, topic_humor) %>%
filter(topic_humor=="1")
library("tidyverse")
datasets::USPersonalExpenditure
?USPersonalExpenditure #column names are years
expenditures <- USPersonalExpenditure %>%
as_tibble() %>% #this transforms the matrix into a data frame
mutate(expenditure = rownames(USPersonalExpenditure))
expenditures #the years are actually data
expenditures %>% #not moving expenditure variable,years to years and values to dollar
pivot_longer(-expenditure, names_to = "years", values_to = "bn_dollars")
expenditures %>%
pivot_longer(-expenditure, names_to = "years", values_to = "bn_dollars") %>%
filter(expenditure=="Medical and Health") %>%
arrange(bn_dollars)
heartrate2 <- read_csv("data/heartrate2.csv")
heartrate2 #the patient name has gender as well (two pieces of data in same column; can't use pivot longer)
heartrate2 %>%
separate(patient, into= c("patient", "sex"), sep = "_") %>%  #separating the sex with _
pivot_longer(-c(patient, sex), names_to = "drug", values_to = "heartbeat") #keeping patient and sex together
heartrate2 %>%
separate(patient, into= c("patient", "sex"), sep = -1) #if it's not separated by underscore. -1 indicates removal of the last character
heartrate2 %>%
separate(patient, into= c("patient", "sex"), sep = -1) %>%
mutate(patient=str_remove(patient, "_"))#new package=strngr (good for dealing with string, characters)
heartrate3 <- heartrate2 %>%
separate(patient, into = c("patient", "sex"), sep = -1) %>%
mutate(patient=str_remove(patient, "_")) %>%  #strngr package
pivot_longer(-c(patient, sex), names_to = "drug", values_to = "heartrate")
heartrate3 %>%
unite(patient_sex, "patient", "sex", sep = "_")
#opposite of seperate; gives the same thing back
tb_data <- read_csv("data/tb_data.csv")
tb_data
#key variable has "cases", population (two different data)
tb_data %>%
pivot_wider(names_from = "key", #the observations under key will become new columns
values_from = "value") #the values under value will be moved to the new columns
gene_exp <- read_csv("data/gene_exp.csv")
gene_exp %>%
pivot_wider(names_from ="type", values_from="L4_values")
beachbugs <- read_csv("data/beachbugs_long.csv")
beachbugs_wide <- beachbugs %>%
pivot_wider(names_from = "site",
values_from="buglevels")
#beachbugs %>%
#pivot_longer(-year, names_to = "site", values_to = "buglevels")
View(heartrate2)
View(heartrate3)
COVID_on_TikTok %>%
pivot_longer(-c(views, likes, comments) names_to = "y", values_to = "x")
COVID_on_TikTok %>%
pivot_longer(-c(views, likes, comments) names_to = "y", values_to = "x")
COVID_on_TikTok %>%
pivot_longer(-c(views, likes, comments), names_to = "x", values_to = "y")
View(tb_data)
COVID_on_TikTok %>%
filter(x=="topic_humor"|x=="topic_clinical" | x=="topic_ip")
COVID_on_TikTok %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip")
COVID_on_TikTok %>%
filter(x=="topic_humor")
COVID_on_TikTok %>%
filter(x="topic_humor")
COVID_on_TikTok %>%
filter(x=="topic_humor")
COVID_on_TikTok2 %>%
filter(x=="topic_humor")
COVID_on_TikTok2<- COVID_on_TikTok %>%
pivot_longer(-c(views, likes, comments), names_to = "x", values_to = "y")
COVID_on_TikTok2 %>%
filter(x=="topic_humor")
COVID_on_TikTok2 %>%
filter(x=="topic_humor", |x=="topic_clinical"|x=="topic_ip")
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
COVID_on_TikTok <- read.csv("/Users/sanch/Desktop/BIS15W2025_group13/Sanchari/tiktok_data_open.csv")
summary(COVID_on_TikTok)
COVID_on_TikTok %>%
summarize(across(everything(), ~ sum(is.na(.))))
names(COVID_on_TikTok)
sum(is.na(COVID_on_TikTok))
COVID_on_TikTok %>%
summarise(most_liked_video=max(likes))
COVID_on_TikTok %>%
filter(likes=="8000000")
#overall rating on DISCERN of moderate or high, video includes humor, presence of comment reflecting intention to change behavior
COVID_on_TikTok %>%
select(likes, views, topic_humor, topic_clinical, topic_ip, d_descriptionofriskfactors) %>%
summarise(likes, views, humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok %>%
summarise(humor_videos =sum(topic_humor), clinical_videos =sum(topic_clinical), infection_prevention =sum(topic_ip), video_risk_factors=sum(d_descriptionofriskfactors))
COVID_on_TikTok2<- COVID_on_TikTok %>%
pivot_longer(-c(views, likes, comments), names_to = "x", values_to = "y")
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip")
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms")
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into = c("video topic"), sep = -1) %>%
mutate(patient=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into = c("video topic"), sep = -1) %>%
mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms")
#separate(x, into = c("video topic"), sep = -1) %>%
# mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms")
separate(x, into = c("video topic"), sep = -1)
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into = c("video topic"), sep = -1)
# mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into = c("video topic"), sep = -1) %>%
mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into = c("video topic"), sep = -1) %>%
mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into = c("video topic"), sep = -1) %>%
mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"))
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"), sep = -1)
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"), sep = 1)
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"), sep = -1)
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"))
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"),sep = 1)
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"),sep = -1)
#mutate(patient=str_remove(patient, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"),sep = -1)  %>%
mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"),sep = -1)
# mutate(x=str_remove(x, "_"))
COVID_on_TikTok2 %>%
filter(x=="topic_humor"|x=="topic_clinical"|x=="topic_ip"| x== "d_descriptionofsymptoms") %>%
separate(x, into= c("video topic"))
# mutate(x=str_remove(x, "_"))
